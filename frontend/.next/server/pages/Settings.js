"use strict";(()=>{var e={};e.id=86,e.ids=[86,660],e.modules={1323:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},74363:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>h,default:()=>g,getServerSideProps:()=>P,getStaticPaths:()=>m,getStaticProps:()=>f,reportWebVitals:()=>x,routeModule:()=>j,unstable_getServerProps:()=>S,unstable_getServerSideProps:()=>_,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>b});var s=r(87093),n=r(35244),i=r(1323),o=r(55388),l=r.n(o),u=r(16769),c=r.n(u),d=r(64397),p=e([d]);d=(p.then?(await p)():p)[0];let g=(0,i.l)(d,"default"),f=(0,i.l)(d,"getStaticProps"),m=(0,i.l)(d,"getStaticPaths"),P=(0,i.l)(d,"getServerSideProps"),h=(0,i.l)(d,"config"),x=(0,i.l)(d,"reportWebVitals"),b=(0,i.l)(d,"unstable_getStaticProps"),v=(0,i.l)(d,"unstable_getStaticPaths"),y=(0,i.l)(d,"unstable_getStaticParams"),S=(0,i.l)(d,"unstable_getServerProps"),_=(0,i.l)(d,"unstable_getServerSideProps"),j=new s.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/Settings",pathname:"/Settings",bundlePath:"",filename:""},components:{App:c(),Document:l()},userland:d});a()}catch(e){a(e)}})},16769:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let a=r(50167)._(r(16689)),s=r(96221);async function n(e){let{Component:t,ctx:r}=e;return{pageProps:await (0,s.loadGetInitialProps)(t,r)}}class i extends a.default.Component{render(){let{Component:e,pageProps:t}=this.props;return a.default.createElement(e,t)}}i.origGetInitialProps=n,i.getInitialProps=n,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},151:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>u});var s=r(3590),n=r(92921),i=r(97026),o=r.n(i),l=e([s]);s=(l.then?(await l)():l)[0];let u=e=>{let t=e.response?.data?.error;if(t){if(n.a.exists(`backendErrors.${t}`)){s.toast.error(n.a.t(`backendErrors.${t}`),{toastId:t,autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"});return}s.toast.error(t,{toastId:t,autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"});return}if(o()(e)){s.toast.error(e);return}s.toast.error("An error occurred!")};a()}catch(e){a(e)}})},64397:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>S});var s=r(20997),n=r(16689),i=r(48308),o=r(40640),l=r.n(o),u=r(54104),c=r.n(u),d=r(32705),p=r.n(d),g=r(84614),f=r.n(g),m=r(3590),P=r(38561),h=r(92921),x=r(151),b=r(7405),v=e([m,x,b]);[m,x,b]=v.then?(await v)():v;let y=(0,i.makeStyles)(e=>({root:{display:"flex",alignItems:"center",padding:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",alignItems:"center"},settingOption:{marginLeft:"auto"},margin:{margin:e.spacing(1)}})),S=()=>{let e=y(),[t,r]=(0,n.useState)([]);(0,n.useEffect)(()=>{(async()=>{try{let{data:e}=await P.Z.get("/settings");r(e)}catch(e){(0,x.Z)(e)}})()},[]),(0,n.useEffect)(()=>{let e=localStorage.getItem("companyId"),t=(0,b.C)({companyId:e});return t.on(`company-${e}-settings`,e=>{"update"===e.action&&r(t=>{let r=[...t],a=r.findIndex(t=>t.key===e.setting.key);return r[a].value=e.setting.value,r})}),()=>{t.disconnect()}},[]);let a=async e=>{let t=e.target.value,r=e.target.name;try{await P.Z.put(`/settings/${r}`,{value:t}),m.toast.success(h.a.t("settings.success"))}catch(e){(0,x.Z)(e)}};return s.jsx("div",{className:e.root,children:(0,s.jsxs)(p(),{className:e.container,maxWidth:"sm",children:[s.jsx(c(),{variant:"body2",gutterBottom:!0,children:h.a.t("settings.title")}),(0,s.jsxs)(l(),{className:e.paper,children:[s.jsx(c(),{variant:"body1",children:h.a.t("settings.settings.userCreation.name")}),(0,s.jsxs)(f(),{margin:"dense",variant:"outlined",native:!0,id:"userCreation-setting",name:"userCreation",value:t&&t.length>0&&(e=>{let{value:r}=t.find(t=>t.key===e);return r})("userCreation"),className:e.settingOption,onChange:a,children:[s.jsx("option",{value:"enabled",children:h.a.t("settings.settings.userCreation.options.enabled")}),s.jsx("option",{value:"disabled",children:h.a.t("settings.settings.userCreation.options.disabled")})]})]})]})})};a()}catch(e){a(e)}})},7405:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{C:()=>l});var s=r(14612),n=r(75795),i=r.n(n),o=e([s]);function l(e){return localStorage.getItem("userId")&&localStorage.getItem("userId"),(0,s.default)(process.env.REACT_APP_BACKEND_URL,{transports:["websocket","polling","flashsocket"],pingTimeout:18e3,pingInterval:18e3,query:i()(e)?{...e}:{userId:e.userId}})}s=(o.then?(await o)():o)[0],a()}catch(e){a(e)}})},35244:(e,t)=>{var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},32705:e=>{e.exports=require("@material-ui/core/Container")},40640:e=>{e.exports=require("@material-ui/core/Paper")},84614:e=>{e.exports=require("@material-ui/core/Select")},54104:e=>{e.exports=require("@material-ui/core/Typography")},48308:e=>{e.exports=require("@material-ui/core/styles")},52167:e=>{e.exports=require("axios")},18805:e=>{e.exports=require("i18next")},86071:e=>{e.exports=require("i18next-browser-languagedetector")},75795:e=>{e.exports=require("lodash/isObject")},97026:e=>{e.exports=require("lodash/isString")},62785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},16689:e=>{e.exports=require("react")},20997:e=>{e.exports=require("react/jsx-runtime")},3590:e=>{e.exports=import("react-toastify")},14612:e=>{e.exports=import("socket.io-client")},71017:e=>{e.exports=require("path")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[5388,5800],()=>r(74363));module.exports=a})();