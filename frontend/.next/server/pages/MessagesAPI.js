"use strict";(()=>{var e={};e.id=1340,e.ids=[1340,660],e.modules={95477:(e,a,t)=>{t.d(a,{Z:()=>m});var r=t(87462),s=t(91),i=t(16689);t(580);var n=t(68103),o=t.n(n);t(23874);var l=t(52543),c=t(93871),d=i.forwardRef(function(e,a){var t=e.classes,n=e.className,l=e.color,d=void 0===l?"primary":l,m=e.disableShrink,p=e.size,h=void 0===p?40:p,u=e.style,x=e.thickness,g=void 0===x?3.6:x,y=e.value,v=void 0===y?0:y,b=e.variant,j=void 0===b?"indeterminate":b,f=(0,s.Z)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),Z={},P={},k={};if("determinate"===j||"static"===j){var S=2*Math.PI*((44-g)/2);Z.strokeDasharray=S.toFixed(3),k["aria-valuenow"]=Math.round(v),Z.strokeDashoffset="".concat(((100-v)/100*S).toFixed(3),"px"),P.transform="rotate(-90deg)"}return i.createElement("div",(0,r.Z)({className:o()(t.root,n,"inherit"!==d&&t["color".concat((0,c.Z)(d))],{determinate:t.determinate,indeterminate:t.indeterminate,static:t.static}[j]),style:(0,r.Z)({width:h,height:h},P,u),ref:a,role:"progressbar"},k,f),i.createElement("svg",{className:t.svg,viewBox:"".concat(22," ").concat(22," ").concat(44," ").concat(44)},i.createElement("circle",{className:o()(t.circle,void 0!==m&&m&&t.circleDisableShrink,{determinate:t.circleDeterminate,indeterminate:t.circleIndeterminate,static:t.circleStatic}[j]),style:Z,cx:44,cy:44,r:(44-g)/2,fill:"none",strokeWidth:g})))});let m=(0,l.Z)(function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:e.transitions.create("transform")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:e.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}},{name:"MuiCircularProgress",flip:!1})(d)},22318:(e,a,t)=>{t.d(a,{Z:()=>p});var r=t(87462),s=t(91),i=t(16689);t(580);var n=t(68103),o=t.n(n),l=t(52543),c=t(93871),d={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},m=i.forwardRef(function(e,a){var t=e.align,n=void 0===t?"inherit":t,l=e.classes,m=e.className,p=e.color,h=void 0===p?"initial":p,u=e.component,x=e.display,g=void 0===x?"initial":x,y=e.gutterBottom,v=e.noWrap,b=e.paragraph,j=void 0!==b&&b,f=e.variant,Z=void 0===f?"body1":f,P=e.variantMapping,k=void 0===P?d:P,S=(0,s.Z)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),N=u||(j?"p":k[Z]||d[Z])||"span";return i.createElement(N,(0,r.Z)({className:o()(l.root,m,"inherit"!==Z&&l[Z],"initial"!==h&&l["color".concat((0,c.Z)(h))],void 0!==v&&v&&l.noWrap,void 0!==y&&y&&l.gutterBottom,j&&l.paragraph,"inherit"!==n&&l["align".concat((0,c.Z)(n))],"initial"!==g&&l["display".concat((0,c.Z)(g))]),ref:a},S))});let p=(0,l.Z)(function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}},{name:"MuiTypography"})(m)},92646:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.r(a),t.d(a,{config:()=>y,default:()=>h,getServerSideProps:()=>g,getStaticPaths:()=>x,getStaticProps:()=>u,reportWebVitals:()=>v,routeModule:()=>k,unstable_getServerProps:()=>Z,unstable_getServerSideProps:()=>P,unstable_getStaticParams:()=>f,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>b});var s=t(87093),i=t(35244),n=t(1323),o=t(55388),l=t.n(o),c=t(16769),d=t.n(c),m=t(36075),p=e([m]);m=(p.then?(await p)():p)[0];let h=(0,n.l)(m,"default"),u=(0,n.l)(m,"getStaticProps"),x=(0,n.l)(m,"getStaticPaths"),g=(0,n.l)(m,"getServerSideProps"),y=(0,n.l)(m,"config"),v=(0,n.l)(m,"reportWebVitals"),b=(0,n.l)(m,"unstable_getStaticProps"),j=(0,n.l)(m,"unstable_getStaticPaths"),f=(0,n.l)(m,"unstable_getStaticParams"),Z=(0,n.l)(m,"unstable_getServerProps"),P=(0,n.l)(m,"unstable_getServerSideProps"),k=new s.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/MessagesAPI",pathname:"/MessagesAPI",bundlePath:"",filename:""},components:{App:d(),Document:l()},userland:m});r()}catch(e){r(e)}})},151:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{Z:()=>c});var s=t(3590),i=t(92921),n=t(97026),o=t.n(n),l=e([s]);s=(l.then?(await l)():l)[0];let c=e=>{let a=e.response?.data?.error;if(a){if(i.a.exists(`backendErrors.${a}`)){s.toast.error(i.a.t(`backendErrors.${a}`),{toastId:a,autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"});return}s.toast.error(a,{toastId:a,autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"});return}if(o()(e)){s.toast.error(e);return}s.toast.error("An error occurred!")};r()}catch(e){r(e)}})},36075:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.r(a),t.d(a,{default:()=>Z});var s=t(20997),i=t(16689),n=t(52167),o=t.n(n),l=t(48308),c=t(40640),d=t.n(c),m=t(92921),p=t(41749),h=t(39803),u=t(282),x=t(95477),g=t(22318),y=t(2296),v=t(151),b=t(3590);t(38561);var j=e([v,b]);[v,b]=j.then?(await j)():j;let f=(0,l.makeStyles)(e=>({mainPaper:{flex:1,padding:e.spacing(2),paddingBottom:100},mainHeader:{marginTop:e.spacing(1)},elementMargin:{marginTop:e.spacing(2)},formContainer:{maxWidth:500},textRight:{textAlign:"right"}})),Z=()=>{let e=f(),[a]=(0,i.useState)({token:"",number:"",body:""}),[t]=(0,i.useState)({token:"",number:"",medias:""}),[r,n]=(0,i.useState)({}),l=async e=>{let{number:a,body:t}=e;var r={method:"POST",url:`${process.env.REACT_APP_BACKEND_URL}/api/messages/send`,headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},data:{number:a,body:t}};o().request(r).then(function(e){b.toast.success("Mensagem enviada com sucesso")}).catch(function(e){(0,v.Z)(e)})},c=async e=>{try{let t=r[0],s=new FormData;s.append("number",e.number),s.append("body",t.name),s.append("medias",t);var a={method:"POST",url:`${process.env.REACT_APP_BACKEND_URL}/api/messages/send`,headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${e.token}`},data:s};o().request(a).then(function(e){b.toast.success("Mensagem enviada com sucesso")}).catch(function(e){(0,v.Z)(e)})}catch(e){(0,v.Z)(e)}};return(0,s.jsxs)(d(),{className:e.mainPaper,variant:"outlined",children:[s.jsx(g.Z,{variant:"h5",children:"Documenta\xe7\xe3o para envio de mensagens"}),s.jsx(g.Z,{variant:"h6",color:"primary",className:e.elementMargin,children:"M\xe9todos de Envio"}),s.jsx(g.Z,{component:"div",children:(0,s.jsxs)("ol",{children:[s.jsx("li",{children:"Mensagens de Texto"}),s.jsx("li",{children:"Mensagens de Media"})]})}),s.jsx(g.Z,{variant:"h6",color:"primary",className:e.elementMargin,children:"Instru\xe7\xf5es"}),(0,s.jsxs)(g.Z,{className:e.elementMargin,component:"div",children:[s.jsx("b",{children:"Observa\xe7\xf5es importantes"}),s.jsx("br",{}),(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{children:["Antes de enviar mensagens, \xe9 necess\xe1rio o cadastro do token vinculado \xe0 conex\xe3o que enviar\xe1 as mensagens. ",s.jsx("br",{}),'Para realizar o cadastro acesse o menu "Conex\xf5es", clique no bot\xe3o editar da conex\xe3o e insira o token no devido campo.']}),(0,s.jsxs)("li",{children:["O n\xfamero para envio n\xe3o deve ter mascara ou caracteres especiais e deve ser composto por:",(0,s.jsxs)("ul",{children:[s.jsx("li",{children:"C\xf3digo do pa\xeds"}),s.jsx("li",{children:"DDD"}),s.jsx("li",{children:"N\xfamero"})]})]})]})]}),s.jsx(g.Z,{variant:"h6",color:"primary",className:e.elementMargin,children:"1. Mensagens de Texto"}),(0,s.jsxs)(p.Z,{container:!0,children:[s.jsx(p.Z,{item:!0,xs:12,sm:6,children:(0,s.jsxs)(g.Z,{className:e.elementMargin,component:"div",children:[s.jsx("p",{children:"Seguem abaixo a lista de informa\xe7\xf5es necess\xe1rias para envio das mensagens de texto:"}),s.jsx("b",{children:"Endpoint: "})," ",process.env.REACT_APP_BACKEND_URL+"/api/messages/send"," ",s.jsx("br",{}),s.jsx("b",{children:"M\xe9todo: "})," POST ",s.jsx("br",{}),s.jsx("b",{children:"Headers: "})," X_TOKEN (token cadastrado) e Content-Type (application/json) ",s.jsx("br",{}),s.jsx("b",{children:"Body: "})," ",'{ "number": "558599999999", "body": "Sua mensagem" }']})}),(0,s.jsxs)(p.Z,{item:!0,xs:12,sm:6,children:[s.jsx(g.Z,{className:e.elementMargin,children:s.jsx("b",{children:"Teste de Envio"})}),s.jsx(y.Formik,{initialValues:a,enableReinitialize:!0,onSubmit:(e,a)=>{setTimeout(async()=>{await l(e),a.setSubmitting(!1),a.resetForm()},400)},className:e.elementMargin,children:({isSubmitting:a})=>s.jsx(y.Form,{className:e.formContainer,children:(0,s.jsxs)(p.Z,{container:!0,spacing:2,children:[s.jsx(p.Z,{item:!0,xs:12,md:6,children:s.jsx(y.Field,{as:h.Z,label:m.a.t("messagesAPI.textMessage.token"),name:"token",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})}),s.jsx(p.Z,{item:!0,xs:12,md:6,children:s.jsx(y.Field,{as:h.Z,label:m.a.t("messagesAPI.textMessage.number"),name:"number",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})}),s.jsx(p.Z,{item:!0,xs:12,children:s.jsx(y.Field,{as:h.Z,label:m.a.t("messagesAPI.textMessage.body"),name:"body",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})}),s.jsx(p.Z,{item:!0,xs:12,className:e.textRight,children:s.jsx(u.Z,{type:"submit",color:"primary",variant:"contained",className:e.btnWrapper,children:a?s.jsx(x.Z,{size:24,className:e.buttonProgress}):"Enviar"})})]})})})]})]}),s.jsx(g.Z,{variant:"h6",color:"primary",className:e.elementMargin,children:"2. Mensagens de Media"}),(0,s.jsxs)(p.Z,{container:!0,children:[s.jsx(p.Z,{item:!0,xs:12,sm:6,children:(0,s.jsxs)(g.Z,{className:e.elementMargin,component:"div",children:[s.jsx("p",{children:"Seguem abaixo a lista de informa\xe7\xf5es necess\xe1rias para envio das mensagens de texto:"}),s.jsx("b",{children:"Endpoint: "})," ",process.env.REACT_APP_BACKEND_URL+"/api/messages/send"," ",s.jsx("br",{}),s.jsx("b",{children:"M\xe9todo: "})," POST ",s.jsx("br",{}),s.jsx("b",{children:"Headers: "})," X_TOKEN (token cadastrado) e Content-Type (multipart/form-data) ",s.jsx("br",{}),s.jsx("b",{children:"FormData: "})," ",s.jsx("br",{}),(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{children:[s.jsx("b",{children:"number: "})," 558599999999"]}),(0,s.jsxs)("li",{children:[s.jsx("b",{children:"medias: "})," arquivo"]})]})]})}),(0,s.jsxs)(p.Z,{item:!0,xs:12,sm:6,children:[s.jsx(g.Z,{className:e.elementMargin,children:s.jsx("b",{children:"Teste de Envio"})}),s.jsx(y.Formik,{initialValues:t,enableReinitialize:!0,onSubmit:(e,a)=>{setTimeout(async()=>{console.log(e,r),await c(e),a.setSubmitting(!1),a.resetForm(),document.getElementById("medias").files=null,document.getElementById("medias").value=null},400)},className:e.elementMargin,children:({isSubmitting:a})=>s.jsx(y.Form,{className:e.formContainer,children:(0,s.jsxs)(p.Z,{container:!0,spacing:2,children:[s.jsx(p.Z,{item:!0,xs:12,md:6,children:s.jsx(y.Field,{as:h.Z,label:m.a.t("messagesAPI.mediaMessage.token"),name:"token",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})}),s.jsx(p.Z,{item:!0,xs:12,md:6,children:s.jsx(y.Field,{as:h.Z,label:m.a.t("messagesAPI.mediaMessage.number"),name:"number",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})}),s.jsx(p.Z,{item:!0,xs:12,children:s.jsx("input",{type:"file",name:"medias",id:"medias",required:!0,onChange:e=>n(e.target.files)})}),s.jsx(p.Z,{item:!0,xs:12,className:e.textRight,children:s.jsx(u.Z,{type:"submit",color:"primary",variant:"contained",className:e.btnWrapper,children:a?s.jsx(x.Z,{size:24,className:e.buttonProgress}):"Enviar"})})]})})})]})]})]})};r()}catch(e){r(e)}})},40640:e=>{e.exports=require("@material-ui/core/Paper")},48308:e=>{e.exports=require("@material-ui/core/styles")},43349:e=>{e.exports=require("@material-ui/styles")},95027:e=>{e.exports=require("@material-ui/system")},23874:e=>{e.exports=require("@material-ui/utils")},52167:e=>{e.exports=require("axios")},68103:e=>{e.exports=require("clsx")},2296:e=>{e.exports=require("formik")},18805:e=>{e.exports=require("i18next")},86071:e=>{e.exports=require("i18next-browser-languagedetector")},97026:e=>{e.exports=require("lodash/isString")},62785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},580:e=>{e.exports=require("prop-types")},16689:e=>{e.exports=require("react")},66405:e=>{e.exports=require("react-dom")},84466:e=>{e.exports=require("react-transition-group")},20997:e=>{e.exports=require("react/jsx-runtime")},3590:e=>{e.exports=import("react-toastify")},71017:e=>{e.exports=require("path")}};var a=require("../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[5388,9908,895,9154,4924,2966,5800],()=>t(92646));module.exports=r})();