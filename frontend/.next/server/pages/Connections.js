"use strict";(()=>{var e={};e.id=2492,e.ids=[2492,660],e.modules={66856:(e,t,a)=>{a.d(t,{Z:()=>d});var r=a(87462),i=a(91),n=a(16689);a(580);var o=a(68103),s=a.n(o),l=a(52543),c=n.forwardRef(function(e,t){var a=e.disableSpacing,o=e.classes,l=e.className,c=(0,i.Z)(e,["disableSpacing","classes","className"]);return n.createElement("div",(0,r.Z)({className:s()(o.root,l,!(void 0!==a&&a)&&o.spacing),ref:t},c))});let d=(0,l.Z)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(c)},29525:(e,t,a)=>{a.d(t,{Z:()=>d});var r=a(87462),i=a(91),n=a(16689);a(580);var o=a(68103),s=a.n(o),l=a(52543),c=n.forwardRef(function(e,t){var a=e.classes,o=e.className,l=e.dividers,c=(0,i.Z)(e,["classes","className","dividers"]);return n.createElement("div",(0,r.Z)({className:s()(a.root,o,void 0!==l&&l&&a.dividers),ref:t},c))});let d=(0,l.Z)(function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}},{name:"MuiDialogContent"})(c)},66083:(e,t,a)=>{a.d(t,{Z:()=>p});var r=a(87462),i=a(91),n=a(16689);a(580);var o=a(68103),s=a.n(o),l=a(52543),c=a(22318),d=n.forwardRef(function(e,t){var a=e.children,o=e.classes,l=e.className,d=e.disableTypography,p=(0,i.Z)(e,["children","classes","className","disableTypography"]);return n.createElement("div",(0,r.Z)({className:s()(o.root,l),ref:t},p),void 0!==d&&d?a:n.createElement(c.Z,{component:"h2",variant:"h6"},a))});let p=(0,l.Z)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(d)},50998:(e,t,a)=>{a.d(t,{Z:()=>x});var r=a(87462),i=a(91),n=a(16689);a(580);var o=a(68103),s=a.n(o);a(23874);var l=a(52543),c=a(4024),d=a(83711),p=a(17294),u=a(66987),m=a(66405),h="undefined"==typeof window?n.useEffect:n.useLayoutEffect,g=n.forwardRef(function(e,t){var a=e.alignItems,o=void 0===a?"center":a,l=e.autoFocus,g=void 0!==l&&l,x=e.button,v=void 0!==x&&x,f=e.children,y=e.classes,Z=e.className,b=e.component,j=e.ContainerComponent,M=void 0===j?"li":j,C=e.ContainerProps,S=(C=void 0===C?{}:C).className,w=(0,i.Z)(C,["className"]),q=e.dense,I=e.disabled,N=void 0!==I&&I,T=e.disableGutters,E=e.divider,k=e.focusVisibleClassName,P=e.selected,z=(0,i.Z)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),F=n.useContext(u.Z),A={dense:void 0!==q&&q||F.dense||!1,alignItems:o},O=n.useRef(null);h(function(){g&&O.current&&O.current.focus()},[g]);var D=n.Children.toArray(f),V=D.length&&(0,d.Z)(D[D.length-1],["ListItemSecondaryAction"]),W=n.useCallback(function(e){O.current=m.findDOMNode(e)},[]),R=(0,p.Z)(W,t),B=(0,r.Z)({className:s()(y.root,Z,A.dense&&y.dense,!(void 0!==T&&T)&&y.gutters,void 0!==E&&E&&y.divider,N&&y.disabled,v&&y.button,"center"!==o&&y.alignItemsFlexStart,V&&y.secondaryAction,void 0!==P&&P&&y.selected),disabled:N},z),L=b||"li";return(v&&(B.component=b||"div",B.focusVisibleClassName=s()(y.focusVisible,k),L=c.Z),V)?(L=B.component||b?L:"div","li"===M&&("li"===L?L="div":"li"===B.component&&(B.component="div")),n.createElement(u.Z.Provider,{value:A},n.createElement(M,(0,r.Z)({className:s()(y.container,S),ref:R},w),n.createElement(L,B,D),D.pop()))):n.createElement(u.Z.Provider,{value:A},n.createElement(L,(0,r.Z)({ref:R},B),D))});let x=(0,l.Z)(function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}},{name:"MuiListItem"})(g)},22318:(e,t,a)=>{a.d(t,{Z:()=>u});var r=a(87462),i=a(91),n=a(16689);a(580);var o=a(68103),s=a.n(o),l=a(52543),c=a(93871),d={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},p=n.forwardRef(function(e,t){var a=e.align,o=void 0===a?"inherit":a,l=e.classes,p=e.className,u=e.color,m=void 0===u?"initial":u,h=e.component,g=e.display,x=void 0===g?"initial":g,v=e.gutterBottom,f=e.noWrap,y=e.paragraph,Z=void 0!==y&&y,b=e.variant,j=void 0===b?"body1":b,M=e.variantMapping,C=void 0===M?d:M,S=(0,i.Z)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),w=h||(Z?"p":C[j]||d[j])||"span";return n.createElement(w,(0,r.Z)({className:s()(l.root,p,"inherit"!==j&&l[j],"initial"!==m&&l["color".concat((0,c.Z)(m))],void 0!==f&&f&&l.noWrap,void 0!==v&&v&&l.gutterBottom,Z&&l.paragraph,"inherit"!==o&&l["align".concat((0,c.Z)(o))],"initial"!==x&&l["display".concat((0,c.Z)(x))]),ref:t},S))});let u=(0,l.Z)(function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}},{name:"MuiTypography"})(p)},41120:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(87462),i=a(43349),n=a(90953);let o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.makeStyles)(e,(0,r.Z)({defaultTheme:n.Z},t))}},41396:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(16689);let i=(0,a(9371).createSvgIcon)(r.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle")},77946:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(16689);let i=(0,a(9371).createSvgIcon)(r.createElement("path",{d:"M3 5v4h2V5h4V3H5c-1.1 0-2 .9-2 2zm2 10H3v4c0 1.1.9 2 2 2h4v-2H5v-4zm14 4h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4zm0-16h-4v2h4v4h2V5c0-1.1-.9-2-2-2z"}),"CropFree")},13088:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(16689);let i=(0,a(9371).createSvgIcon)(r.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline")},30387:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(16689);let i=(0,a(9371).createSvgIcon)(r.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},98957:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(16689);let i=(0,a(9371).createSvgIcon)(r.createElement("path",{d:"M2 22h20V2z"}),"SignalCellular4Bar")},84995:(e,t,a)=>{a.d(t,{Z:()=>n});var r=a(16689),i=a.n(r);let n=(0,a(9371).createSvgIcon)(i().createElement(i().Fragment,null,i().createElement("path",{fillOpacity:".3",d:"M22 8V2L2 22h16V8z"}),i().createElement("path",{d:"M20 22h2v-2h-2v2zm0-12v8h2v-8h-2z"})),"SignalCellularConnectedNoInternet0Bar")},24763:(e,t,a)=>{a.d(t,{Z:()=>n});var r=a(16689),i=a.n(r);let n=(0,a(9371).createSvgIcon)(i().createElement(i().Fragment,null,i().createElement("path",{fillOpacity:".3",d:"M22 8V2L2 22h16V8z"}),i().createElement("path",{d:"M14 22V10L2 22h12zm6-12v8h2v-8h-2zm0 12h2v-2h-2v2z"})),"SignalCellularConnectedNoInternet2Bar")},60194:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{config:()=>v,default:()=>m,getServerSideProps:()=>x,getStaticPaths:()=>g,getStaticProps:()=>h,reportWebVitals:()=>f,routeModule:()=>C,unstable_getServerProps:()=>j,unstable_getServerSideProps:()=>M,unstable_getStaticParams:()=>b,unstable_getStaticPaths:()=>Z,unstable_getStaticProps:()=>y});var i=a(87093),n=a(35244),o=a(1323),s=a(55388),l=a.n(s),c=a(16769),d=a.n(c),p=a(27636),u=e([p]);p=(u.then?(await u)():u)[0];let m=(0,o.l)(p,"default"),h=(0,o.l)(p,"getStaticProps"),g=(0,o.l)(p,"getStaticPaths"),x=(0,o.l)(p,"getServerSideProps"),v=(0,o.l)(p,"config"),f=(0,o.l)(p,"reportWebVitals"),y=(0,o.l)(p,"unstable_getStaticProps"),Z=(0,o.l)(p,"unstable_getStaticPaths"),b=(0,o.l)(p,"unstable_getStaticParams"),j=(0,o.l)(p,"unstable_getServerProps"),M=(0,o.l)(p,"unstable_getServerSideProps"),C=new i.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/Connections",pathname:"/Connections",bundlePath:"",filename:""},components:{App:d(),Document:l()},userland:p});r()}catch(e){r(e)}})},98198:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{Z:()=>f});var i=a(20997),n=a(16689),o=a.n(n),s=a(43860),l=a.n(s),c=a(151),d=a(93579),p=a(29525),u=a(79895),m=a(22318),h=a(92921),g=a(38561),x=a(7405),v=e([c,x]);[c,x]=v.then?(await v)():v;let f=o().memo(({open:e,onClose:t,whatsAppId:a})=>{let[r,o]=(0,n.useState)("");return(0,n.useEffect)(()=>{(async()=>{if(a)try{let{data:e}=await g.Z.get(`/whatsapp/${a}`);o(e.qrcode)}catch(e){(0,c.Z)(e)}})()},[a]),(0,n.useEffect)(()=>{if(!a)return;let e=localStorage.getItem("companyId"),r=(0,x.C)({companyId:e});return r.on(`company-${e}-whatsappSession`,e=>{"update"===e.action&&e.session.id===a&&o(e.session.qrcode),"update"===e.action&&""===e.session.qrcode&&t()}),()=>{r.disconnect()}},[a,t]),i.jsx(d.Z,{open:e,onClose:t,maxWidth:"lg",scroll:"paper",children:i.jsx(p.Z,{children:(0,i.jsxs)(u.Z,{elevation:0,children:[i.jsx(m.Z,{color:"primary",gutterBottom:!0,children:h.a.t("qrCode.message")}),r?i.jsx(l(),{value:r,size:256}):i.jsx("span",{children:"Waiting for QR Code"})]})})})});r()}catch(e){r(e)}})},33289:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{Z:()=>P});var i=a(20997),n=a(16689),o=a.n(n),s=a(75609),l=a(2296),c=a(3590),d=a(48308),p=a(55223),u=a(93579),m=a(66083),h=a(29525),g=a(41749),x=a(39803),v=a(30553),f=a(9570),y=a(64436),Z=a(85161),b=a(94924),j=a(85639),M=a(66856),C=a(282),S=a(95477),w=a(38561),q=a(92921),I=a(151),N=a(71464),T=e([c,I,N]);[c,I,N]=T.then?(await T)():T;let E=(0,d.makeStyles)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:p.green[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})),k=s.object().shape({name:s.string().min(2,"Too Short!").max(50,"Too Long!").required("Required")}),P=o().memo(({open:e,onClose:t,whatsAppId:a})=>{let r=E(),o={name:"",greetingMessage:"",complationMessage:"",outOfHoursMessage:"",ratingMessage:"",isDefault:!1,token:"",provider:"beta",timeSendQueue:0,sendIdQueue:0},[s,d]=(0,n.useState)(o),[p,T]=(0,n.useState)([]),[P,z]=(0,n.useState)([]);(0,n.useEffect)(()=>{(async()=>{if(a)try{let{data:e}=await w.Z.get(`whatsapp/${a}?session=0`);console.log(e),d(e);let t=e.queues?.map(e=>e.id);T(t)}catch(e){(0,I.Z)(e)}})()},[a]),(0,n.useEffect)(()=>{(async()=>{try{let{data:e}=await w.Z.get("/queue");z(e)}catch(e){(0,I.Z)(e)}})()},[]);let F=async e=>{let t={...e,queueIds:p};delete t.queues,delete t.session;try{a?await w.Z.put(`/whatsapp/${a}`,t):await w.Z.post("/whatsapp",t),c.toast.success(q.a.t("whatsappModal.success")),A()}catch(e){(0,I.Z)(e)}},A=()=>{t(),d(o)};return i.jsx("div",{className:r.root,children:(0,i.jsxs)(u.Z,{open:e,onClose:A,maxWidth:"md",fullWidth:!0,scroll:"paper",children:[i.jsx(m.Z,{children:a?q.a.t("whatsappModal.title.edit"):q.a.t("whatsappModal.title.add")}),i.jsx(l.Formik,{initialValues:s,enableReinitialize:!0,validationSchema:k,onSubmit:(e,t)=>{setTimeout(()=>{F(e),t.setSubmitting(!1)},400)},children:({values:e,touched:t,errors:n,isSubmitting:o})=>(0,i.jsxs)(l.Form,{children:[(0,i.jsxs)(h.Z,{dividers:!0,children:[i.jsx("div",{className:r.multFieldLine,children:(0,i.jsxs)(g.Z,{spacing:2,container:!0,children:[i.jsx(g.Z,{item:!0,children:i.jsx(l.Field,{as:x.Z,label:q.a.t("whatsappModal.form.name"),autoFocus:!0,name:"name",error:t.name&&!!n.name,helperText:t.name&&n.name,variant:"outlined",margin:"dense",className:r.textField})}),i.jsx(g.Z,{style:{paddingTop:15},item:!0,children:i.jsx(v.Z,{control:i.jsx(l.Field,{as:f.Z,color:"primary",name:"isDefault",checked:e.isDefault}),label:q.a.t("whatsappModal.form.default")})})]})}),i.jsx("div",{children:i.jsx(l.Field,{as:x.Z,label:q.a.t("queueModal.form.greetingMessage"),type:"greetingMessage",multiline:!0,rows:4,fullWidth:!0,name:"greetingMessage",error:t.greetingMessage&&!!n.greetingMessage,helperText:t.greetingMessage&&n.greetingMessage,variant:"outlined",margin:"dense"})}),i.jsx("div",{children:i.jsx(l.Field,{as:x.Z,label:q.a.t("queueModal.form.complationMessage"),type:"complationMessage",multiline:!0,rows:4,fullWidth:!0,name:"complationMessage",error:t.complationMessage&&!!n.complationMessage,helperText:t.complationMessage&&n.complationMessage,variant:"outlined",margin:"dense"})}),i.jsx("div",{children:i.jsx(l.Field,{as:x.Z,label:q.a.t("queueModal.form.outOfHoursMessage"),type:"outOfHoursMessage",multiline:!0,rows:4,fullWidth:!0,name:"outOfHoursMessage",error:t.outOfHoursMessage&&!!n.outOfHoursMessage,helperText:t.outOfHoursMessage&&n.outOfHoursMessage,variant:"outlined",margin:"dense"})}),i.jsx("div",{children:i.jsx(l.Field,{as:x.Z,label:q.a.t("queueModal.form.ratingMessage"),type:"ratingMessage",multiline:!0,rows:4,fullWidth:!0,name:"ratingMessage",error:t.ratingMessage&&!!n.ratingMessage,helperText:t.ratingMessage&&n.ratingMessage,variant:"outlined",margin:"dense"})}),i.jsx("div",{children:i.jsx(l.Field,{as:x.Z,label:q.a.t("queueModal.form.token"),type:"token",fullWidth:!0,name:"token",variant:"outlined",margin:"dense"})}),i.jsx(N.Z,{selectedQueueIds:p,onChange:e=>T(e)}),(0,i.jsxs)("div",{children:[i.jsx("h3",{children:q.a.t("whatsappModal.form.queueRedirection")}),i.jsx("p",{children:q.a.t("whatsappModal.form.queueRedirectionDesc")}),(0,i.jsxs)(g.Z,{spacing:2,container:!0,children:[i.jsx(g.Z,{xs:6,md:6,item:!0,children:(0,i.jsxs)(y.Z,{variant:"outlined",margin:"dense",className:r.FormControl,fullWidth:!0,children:[i.jsx(Z.Z,{id:"sendIdQueue-selection-label",children:q.a.t("whatsappModal.form.sendIdQueue")}),(0,i.jsxs)(l.Field,{as:b.Z,name:"sendIdQueue",id:"sendIdQueue",label:q.a.t("whatsappModal.form.sendIdQueue"),placeholder:q.a.t("whatsappModal.form.sendIdQueue"),labelId:"sendIdQueue-selection-label",children:[i.jsx(j.Z,{value:0,children:"\xa0"}),P.map(e=>i.jsx(j.Z,{value:e.id,children:e.name},e.id))]})]})}),i.jsx(g.Z,{xs:6,md:6,item:!0,children:i.jsx(l.Field,{as:x.Z,label:q.a.t("whatsappModal.form.timeSendQueue"),fullWidth:!0,name:"timeSendQueue",variant:"outlined",margin:"dense",error:t.timeSendQueue&&!!n.timeSendQueue,helperText:t.timeSendQueue&&n.timeSendQueue})})]})]})]}),(0,i.jsxs)(M.Z,{children:[i.jsx(C.Z,{onClick:A,color:"secondary",disabled:o,variant:"outlined",children:q.a.t("whatsappModal.buttons.cancel")}),(0,i.jsxs)(C.Z,{type:"submit",color:"primary",disabled:o,variant:"contained",className:r.btnWrapper,children:[a?q.a.t("whatsappModal.buttons.okEdit"):q.a.t("whatsappModal.buttons.okAdd"),o&&i.jsx(S.Z,{size:24,className:r.buttonProgress})]})]})]})})]})})});r()}catch(e){r(e)}})},25137:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{i:()=>s}),a(20997);var i=a(16689),n=a(44931),o=e([n]);n=(o.then?(await o)():o)[0];let s=(0,i.createContext)();r()}catch(e){r(e)}})},44931:(e,t,a)=>{a.a(e,async(e,t)=>{try{a(16689);var r=a(151);a(38561);var i=a(7405),n=e([r,i]);[r,i]=n.then?(await n)():n,t()}catch(e){t(e)}})},27636:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>_});var i=a(20997),n=a(16689),o=a.n(n),s=a(3590),l=a(56794),c=a(78420),d=a(48308),p=a(55223),u=a(25108),m=a(22318),h=a(282),g=a(95477),x=a(79895),v=a(82302),f=a(83750),y=a(57394),Z=a(88222),b=a(99613),j=a(17812),M=a(84995),C=a(77946),S=a(98957),w=a(24763),q=a(41396),I=a(30387),N=a(13088),T=a(96153),E=a(66276),k=a(37432),P=a(2926),z=a(29385),F=a(38561),A=a(33289),O=a(6133),D=a(98198),V=a(92921),W=a(25137),R=a(151),B=a(58582),L=a(20929),Q=e([s,A,D,W,R,B]);[s,A,D,W,R,B]=Q.then?(await Q)():Q;let H=(0,d.makeStyles)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles},customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"},tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",fontSize:e.typography.pxToRem(14),border:"1px solid #dadde9",maxWidth:450},tooltipPopper:{textAlign:"center"},buttonProgress:{color:p.green[500]}})),$=({title:e,content:t,children:a})=>{let r=H();return i.jsx(u.ZP,{arrow:!0,classes:{tooltip:r.tooltip,popper:r.tooltipPopper},title:(0,i.jsxs)(o().Fragment,{children:[i.jsx(m.Z,{gutterBottom:!0,color:"inherit",children:e}),t&&i.jsx(m.Z,{children:t})]}),children:a})},_=()=>{let e=H(),{user:t}=(0,n.useContext)(B.V),{whatsApps:a,loading:r}=(0,n.useContext)(W.i),[o,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)(!1),[Q,_]=(0,n.useState)(null),[G,U]=(0,n.useState)(!1),Y={action:"",title:"",message:"",whatsAppId:"",open:!1},[J,X]=(0,n.useState)(Y),K=async e=>{try{await F.Z.post(`/whatsappsession/${e}`)}catch(e){(0,R.Z)(e)}},ee=async e=>{try{await F.Z.put(`/whatsappsession/${e}`)}catch(e){(0,R.Z)(e)}},et=()=>{_(null),d(!0)},ea=(0,n.useCallback)(()=>{d(!1),_(null)},[_,d]),er=e=>{_(e),m(!0)},ei=(0,n.useCallback)(()=>{_(null),m(!1)},[m,_]),en=e=>{_(e),d(!0)},eo=(e,t)=>{"disconnect"===e&&X({action:e,title:V.a.t("connections.confirmationModal.disconnectTitle"),message:V.a.t("connections.confirmationModal.disconnectMessage"),whatsAppId:t}),"delete"===e&&X({action:e,title:V.a.t("connections.confirmationModal.deleteTitle"),message:V.a.t("connections.confirmationModal.deleteMessage"),whatsAppId:t}),U(!0)},es=async()=>{if("disconnect"===J.action)try{await F.Z.delete(`/whatsappsession/${J.whatsAppId}`)}catch(e){(0,R.Z)(e)}if("delete"===J.action)try{await F.Z.delete(`/whatsapp/${J.whatsAppId}`),s.toast.success(V.a.t("connections.toasts.deleted"))}catch(e){(0,R.Z)(e)}X(Y)},el=e=>(0,i.jsxs)(i.Fragment,{children:["qrcode"===e.status&&i.jsx(h.Z,{size:"small",variant:"contained",color:"primary",onClick:()=>er(e),children:V.a.t("connections.buttons.qrcode")}),"DISCONNECTED"===e.status&&(0,i.jsxs)(i.Fragment,{children:[i.jsx(h.Z,{size:"small",variant:"outlined",color:"primary",onClick:()=>K(e.id),children:V.a.t("connections.buttons.tryAgain")})," ",i.jsx(h.Z,{size:"small",variant:"outlined",color:"secondary",onClick:()=>ee(e.id),children:V.a.t("connections.buttons.newQr")})]}),("CONNECTED"===e.status||"PAIRING"===e.status||"TIMEOUT"===e.status)&&i.jsx(h.Z,{size:"small",variant:"outlined",color:"secondary",onClick:()=>{eo("disconnect",e.id)},children:V.a.t("connections.buttons.disconnect")}),"OPENING"===e.status&&i.jsx(h.Z,{size:"small",variant:"outlined",disabled:!0,color:"default",children:V.a.t("connections.buttons.connecting")})]}),ec=t=>(0,i.jsxs)("div",{className:e.customTableCell,children:["DISCONNECTED"===t.status&&i.jsx($,{title:V.a.t("connections.toolTips.disconnected.title"),content:V.a.t("connections.toolTips.disconnected.content"),children:i.jsx(M.Z,{color:"secondary"})}),"OPENING"===t.status&&i.jsx(g.Z,{size:24,className:e.buttonProgress}),"qrcode"===t.status&&i.jsx($,{title:V.a.t("connections.toolTips.qrcode.title"),content:V.a.t("connections.toolTips.qrcode.content"),children:i.jsx(C.Z,{})}),"CONNECTED"===t.status&&i.jsx($,{title:V.a.t("connections.toolTips.connected.title"),children:i.jsx(S.Z,{style:{color:p.green[500]}})}),("TIMEOUT"===t.status||"PAIRING"===t.status)&&i.jsx($,{title:V.a.t("connections.toolTips.timeout.title"),content:V.a.t("connections.toolTips.timeout.content"),children:i.jsx(w.Z,{color:"secondary"})})]});return(0,i.jsxs)(T.Z,{children:[i.jsx(O.Z,{title:J.title,open:G,onClose:U,onConfirm:es,children:J.message}),i.jsx(D.Z,{open:u,onClose:ei,whatsAppId:!o&&Q?.id}),i.jsx(A.Z,{open:o,onClose:ea,whatsAppId:!u&&Q?.id}),(0,i.jsxs)(E.Z,{children:[i.jsx(P.Z,{children:V.a.t("connections.title")}),i.jsx(k.Z,{children:i.jsx(L.m,{role:t.profile,perform:"connections-page:addConnection",yes:()=>i.jsx(h.Z,{variant:"contained",color:"primary",onClick:et,children:V.a.t("connections.buttons.add")})})})]}),i.jsx(x.Z,{className:e.mainPaper,variant:"outlined",children:(0,i.jsxs)(v.Z,{size:"small",children:[i.jsx(f.Z,{children:(0,i.jsxs)(y.Z,{children:[i.jsx(Z.Z,{align:"center",children:V.a.t("connections.table.name")}),i.jsx(Z.Z,{align:"center",children:V.a.t("connections.table.status")}),i.jsx(L.m,{role:t.profile,perform:"connections-page:actionButtons",yes:()=>i.jsx(Z.Z,{align:"center",children:V.a.t("connections.table.session")})}),i.jsx(Z.Z,{align:"center",children:V.a.t("connections.table.lastUpdate")}),i.jsx(Z.Z,{align:"center",children:V.a.t("connections.table.default")}),i.jsx(L.m,{role:t.profile,perform:"connections-page:editOrDeleteConnection",yes:()=>i.jsx(Z.Z,{align:"center",children:V.a.t("connections.table.actions")})})]})}),i.jsx(b.Z,{children:r?i.jsx(z.Z,{}):i.jsx(i.Fragment,{children:a?.length>0&&a.map(a=>(0,i.jsxs)(y.Z,{children:[i.jsx(Z.Z,{align:"center",children:a.name}),i.jsx(Z.Z,{align:"center",children:ec(a)}),i.jsx(L.m,{role:t.profile,perform:"connections-page:actionButtons",yes:()=>i.jsx(Z.Z,{align:"center",children:el(a)})}),i.jsx(Z.Z,{align:"center",children:(0,l.Z)((0,c.Z)(a.updatedAt),"dd/MM/yy HH:mm")}),i.jsx(Z.Z,{align:"center",children:a.isDefault&&i.jsx("div",{className:e.customTableCell,children:i.jsx(q.Z,{style:{color:p.green[500]}})})}),i.jsx(L.m,{role:t.profile,perform:"connections-page:editOrDeleteConnection",yes:()=>(0,i.jsxs)(Z.Z,{align:"center",children:[i.jsx(j.Z,{size:"small",onClick:()=>en(a),children:i.jsx(I.Z,{})}),i.jsx(j.Z,{size:"small",onClick:e=>{eo("delete",a.id)},children:i.jsx(N.Z,{})})]})})]},a.id))})})]})})]})};r()}catch(e){r(e)}})},12610:e=>{e.exports=require("@material-ui/core/Button")},85798:e=>{e.exports=require("@material-ui/core/Chip")},32705:e=>{e.exports=require("@material-ui/core/Container")},81961:e=>{e.exports=require("@material-ui/core/Dialog")},80929:e=>{e.exports=require("@material-ui/core/DialogActions")},46856:e=>{e.exports=require("@material-ui/core/DialogContent")},82400:e=>{e.exports=require("@material-ui/core/DialogTitle")},75811:e=>{e.exports=require("@material-ui/core/FormControl")},68190:e=>{e.exports=require("@material-ui/core/InputLabel")},48250:e=>{e.exports=require("@material-ui/core/MenuItem")},84614:e=>{e.exports=require("@material-ui/core/Select")},42740:e=>{e.exports=require("@material-ui/core/TableCell")},11236:e=>{e.exports=require("@material-ui/core/TableRow")},54104:e=>{e.exports=require("@material-ui/core/Typography")},55223:e=>{e.exports=require("@material-ui/core/colors")},48308:e=>{e.exports=require("@material-ui/core/styles")},9371:e=>{e.exports=require("@material-ui/core/utils")},44164:e=>{e.exports=require("@material-ui/lab/Skeleton")},43349:e=>{e.exports=require("@material-ui/styles")},95027:e=>{e.exports=require("@material-ui/system")},23874:e=>{e.exports=require("@material-ui/utils")},52167:e=>{e.exports=require("axios")},68103:e=>{e.exports=require("clsx")},2296:e=>{e.exports=require("formik")},18805:e=>{e.exports=require("i18next")},86071:e=>{e.exports=require("i18next-browser-languagedetector")},98210:e=>{e.exports=require("lodash/has")},35599:e=>{e.exports=require("lodash/isArray")},75795:e=>{e.exports=require("lodash/isObject")},97026:e=>{e.exports=require("lodash/isString")},32245:e=>{e.exports=require("moment")},62785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},86066:e=>{e.exports=require("popper.js")},580:e=>{e.exports=require("prop-types")},43860:e=>{e.exports=require("qrcode.react")},16689:e=>{e.exports=require("react")},66405:e=>{e.exports=require("react-dom")},14661:e=>{e.exports=require("react-router-dom")},84466:e=>{e.exports=require("react-transition-group")},20997:e=>{e.exports=require("react/jsx-runtime")},75609:e=>{e.exports=require("yup")},3590:e=>{e.exports=import("react-toastify")},14612:e=>{e.exports=import("socket.io-client")},71017:e=>{e.exports=require("path")}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[5388,9908,895,9154,4924,2966,3682,3579,945,8997,5800,3834],()=>a(60194));module.exports=r})();